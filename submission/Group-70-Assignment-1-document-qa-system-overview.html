
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Literature Review: Extractive and Abstractive Question Answering</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.7;
                color: #2c3e50;
                background-color: #ffffff;
            }
            
            .container {
                max-width: 900px;
                margin: 0 auto;
                padding: 40px 30px;
            }
            
            h1 {
                color: #1a5c9e;
                font-size: 28px;
                margin: 30px 0 20px 0;
                padding-bottom: 15px;
                border-bottom: 3px solid #1a5c9e;
                page-break-after: avoid;
            }
            
            h2 {
                color: #2980b9;
                font-size: 22px;
                margin: 25px 0 15px 0;
                padding-top: 10px;
                page-break-after: avoid;
            }
            
            h3 {
                color: #3498db;
                font-size: 18px;
                margin: 18px 0 12px 0;
                page-break-after: avoid;
            }
            
            h4 {
                color: #34495e;
                font-size: 15px;
                margin: 12px 0 8px 0;
                page-break-after: avoid;
            }
            
            p {
                margin: 12px 0;
                text-align: justify;
            }
            
            ul, ol {
                margin: 15px 0 15px 30px;
            }
            
            li {
                margin: 8px 0;
            }
            
            table {
                width: 100%;
                border-collapse: collapse;
                margin: 20px 0;
                page-break-inside: avoid;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            
            th {
                background-color: #2980b9;
                color: white;
                padding: 12px;
                text-align: left;
                font-weight: 600;
                border: 1px solid #2c3e50;
            }
            
            td {
                padding: 10px 12px;
                border: 1px solid #ecf0f1;
                background-color: #f9f9f9;
            }
            
            tr:nth-child(even) td {
                background-color: #f5f5f5;
            }
            
            tr:hover td {
                background-color: #f0f7ff;
            }
            
            code {
                background-color: #f4f4f4;
                padding: 2px 6px;
                border-radius: 3px;
                font-family: 'Courier New', monospace;
                color: #c7254e;
            }
            
            pre {
                background-color: #f4f4f4;
                border-left: 4px solid #2980b9;
                padding: 12px;
                margin: 15px 0;
                border-radius: 4px;
                overflow-x: auto;
                page-break-inside: avoid;
                font-family: 'Courier New', monospace;
                font-size: 12px;
            }
            
            blockquote {
                border-left: 4px solid #3498db;
                padding-left: 15px;
                margin: 15px 0;
                color: #555;
                font-style: italic;
            }
            
            .diagram {
                background-color: #ecf0f1;
                border: 1px solid #bdc3c7;
                border-radius: 4px;
                padding: 15px;
                margin: 20px 0;
                page-break-inside: avoid;
                font-family: 'Courier New', monospace;
                font-size: 11px;
                white-space: pre;
                overflow-x: auto;
            }
            
            .metrics {
                background-color: #e8f4f8;
                border-left: 4px solid #16a085;
                padding: 15px;
                margin: 15px 0;
                page-break-inside: avoid;
            }
            
            .highlight {
                background-color: #fffacd;
                padding: 2px 4px;
                border-radius: 2px;
            }
            
            strong {
                color: #2c3e50;
                font-weight: 600;
            }
            
            em {
                color: #34495e;
                font-style: italic;
            }
            
            hr {
                border: none;
                border-top: 2px solid #ecf0f1;
                margin: 30px 0;
                page-break-after: avoid;
            }
            
            .section {
                page-break-inside: avoid;
            }
            
            .key-result {
                background-color: #d5f4e6;
                border-left: 4px solid #27ae60;
                padding: 12px;
                margin: 10px 0;
                page-break-inside: avoid;
            }
            
            .warning {
                background-color: #fadbd8;
                border-left: 4px solid #e74c3c;
                padding: 12px;
                margin: 10px 0;
            }
            
            a {
                color: #2980b9;
                text-decoration: none;
            }
            
            a:hover {
                text-decoration: underline;
            }
            
            @media print {
                body {
                    margin: 0;
                    padding: 0;
                }
                .container {
                    padding: 20px;
                }
                h1, h2, h3 {
                    page-break-after: avoid;
                }
                table, pre, .diagram {
                    page-break-inside: avoid;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Document-Based Question Answering System</h1>

<h2>Team 70 - Contributors</h2>

<table>
<tr>
<th>Name</th>
<th>Email Address</th>
<th>Contributions %</th>
</tr>
<tr>
<td>NEERAJ BHATT</td>
<td>2024aa05020@wilp.bits-pilani.ac.in</td>
<td>100%</td>
</tr>
<tr>
<td>V. S. BALAKRISHNAN</td>
<td>2024aa05017@wilp.bits-pilani.ac.in</td>
<td>100%</td>
</tr>
<tr>
<td>KURUVELLA VENKATA SAI UPENDRA</td>
<td>2024aa05016@wilp.bits-pilani.ac.in</td>
<td>100%</td>
</tr>
<tr>
<td>SAJAL CHAUDHARY</td>
<td>2024aa05026@wilp.bits-pilani.ac.in</td>
<td>100%</td>
</tr>
<tr>
<td>SACHIN KUMAR</td>
<td>2024aa05024@wilp.bits-pilani.ac.in</td>
<td>100%</td>
</tr>
</table>

<h2>Overview</h2>

<p>A web-based Question Answering application that allows users to upload documents (PDF, DOCX, TXT) and ask questions based on the document content. The application provides accurate answers extracted from the uploaded documents with confidence scores and source references.</p>

<h2>Features</h2>

<ul>
<li><strong>Document Upload</strong>: Support for PDF, DOCX, and TXT formats</li>
<li><strong>Multiple Query Methods</strong>:</li>
<li>Ask questions on uploaded documents</li>
<li>Ask questions on directly pasted text</li>
<li><strong>AI-Powered QA</strong>: Uses pre-trained transformer models for accurate answer extraction</li>
<li><strong>Source References</strong>: Every answer includes the source passage and document reference</li>
<li><strong>Confidence Scores</strong>: Visual indicators showing the confidence level of each answer</li>
<li><strong>Responsive UI</strong>: Modern, user-friendly web interface</li>
<li><strong>Real-time Processing</strong>: Fast document processing and query response</li>

<h2>Technology Stack</h2>

<h3>Backend</h3>
<li><strong>Framework</strong>: FastAPI</li>
<li><strong>NLP</strong>: Hugging Face Transformers (RoBERTa-SQuAD2)</li>
<li><strong>Document Parsing</strong>: PyPDF2, python-docx</li>
<li><strong>Text Processing</strong>: NLTK, scikit-learn</li>

<h3>Frontend</h3>
<li><strong>HTML5</strong>, <strong>CSS3</strong>, <strong>JavaScript (Vanilla)</strong></li>
<li><strong>Bootstrap 5</strong> for responsive design</li>
<li><strong>RESTful API</strong> integration</li>

<h2>Project Structure</h2>

<pre class="diagram">doc-qa-system/
├── backend/
│   ├── app/
│   │   ├── models/
│   │   │   └── schemas.py           # Pydantic models
│   │   ├── routes/
│   │   │   ├── documents.py         # Document upload endpoints
│   │   │   └── qa.py                # QA query endpoints
│   │   ├── services/
│   │   │   ├── document_indexer.py  # Document storage &amp; indexing
│   │   │   └── qa_engine.py         # QA processing engine
│   │   ├── utils/
│   │   │   └── document_processor.py # Document parsing
│   │   └── main.py                  # FastAPI app initialization
│   ├── requirements.txt
│   └── run.py                        # Server startup script
│
├── frontend/
│   ├── index.html                   # Main HTML page
│   └── static/
│       ├── css/
│       │   └── style.css            # Custom styles
│       └── js/
│           └── app.js               # Frontend logic
│
└── docs/
    ├── INSTALLATION.md
    ├── API_DOCUMENTATION.md
    ├── DESIGN_CHOICES.md
    └── ENHANCEMENT_PLAN.md</pre>

<h2>Installation</h2>

<h3>Prerequisites</h3>
<li>Python 3.8 or higher</li>
<li>pip (Python package manager)</li>
<li>Modern web browser</li>

<h3>Step 1: Clone/Setup Project</h3>

<pre class="diagram">cd /Users/bvs/Documents/assignments/NLP/doc-qa-system</pre>

<h3>Step 2: Create Virtual Environment (Recommended)</h3>

<pre class="diagram"># Create virtual environment
python3 -m venv venv

# Activate virtual environment
# On macOS/Linux:
source venv/bin/activate
# On Windows:
# venv\Scripts\activate</pre>

<h3>Step 3: Install Backend Dependencies</h3>

<pre class="diagram">cd backend
pip install -r requirements.txt</pre>

</ul>
<p>Note: First-time model download might take a few minutes as it downloads pre-trained transformers.</p>

<h3>Step 4: Run the Backend Server</h3>

<pre class="diagram">python run.py</pre>

<p>The API will be available at <code>http://localhost:8000</code></p>
<ul>
<li>API Docs: <code>http://localhost:8000/docs</code></li>
<li>ReDoc: <code>http://localhost:8000/redoc</code></li>

<h3>Step 5: Access the Frontend</h3>

</ul>
<p>Open your web browser and navigate to:</p>
<pre class="diagram">file:///Users/bvs/Documents/assignments/NLP/doc-qa-system/frontend/index.html</pre>

<p>Or alternatively, serve it with a simple HTTP server:</p>

<pre class="diagram"># In a new terminal, from frontend directory
cd ../frontend
python3 -m http.server 8001</pre>

<p>Then open: <code>http://localhost:8001</code></p>

<h2>Usage</h2>

<h3>Basic Workflow</h3>

<p>1. <strong>Upload Documents</strong></p>
<ul>
<li>Click the upload area or drag-and-drop files</li>
<li>Supported formats: PDF, DOCX, TXT</li>
<li>Upload one or multiple documents</li>

</ul>
<p>2. <strong>Ask Questions</strong></p>
<ul>
<li>Click on the &quot;Uploaded Docs&quot; tab</li>
<li>Type your question in the question field</li>
<li>Select number of answers needed (1-5)</li>
<li>Click &quot;Ask Question&quot;</li>

</ul>
<p>3. <strong>View Results</strong></p>
<ul>
<li>Answers appear with confidence scores</li>
<li>See highlighted source passages</li>
<li>Reference document names for each answer</li>

</ul>
<p>4. <strong>Direct Text Queries</strong></p>
<ul>
<li>Switch to &quot;Direct Text&quot; tab</li>
<li>Paste text directly</li>
<li>Ask questions without uploading documents</li>

<h2>API Endpoints</h2>

<h3>Document Management</h3>

<li><strong>POST</strong> <code>/api/documents/upload</code> - Upload a document</li>
<li><strong>GET</strong> <code>/api/documents/list</code> - List all uploaded documents</li>
<li><strong>DELETE</strong> <code>/api/documents/{doc_id}</code> - Delete a document</li>
<li><strong>GET</strong> <code>/api/documents/stats</code> - Get indexing statistics</li>
<li><strong>POST</strong> <code>/api/documents/clear</code> - Clear all documents</li>

<h3>Question Answering</h3>

<li><strong>POST</strong> <code>/api/qa/ask</code> - Ask question on uploaded documents</li>
<li><strong>POST</strong> <code>/api/qa/ask-direct</code> - Ask question on provided text</li>
<li><strong>GET</strong> <code>/api/qa/health</code> - Health check</li>

<h2>API Examples</h2>

<h3>Upload Document</h3>

<pre class="diagram">curl -X POST &quot;http://localhost:8000/api/documents/upload&quot; \
  -F &quot;file=@document.pdf&quot;</pre>

<h3>Ask Question</h3>

<pre class="diagram">curl -X POST &quot;http://localhost:8000/api/qa/ask&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -d &#39;{
    &quot;question&quot;: &quot;What is the main topic?&quot;,
    &quot;top_k&quot;: 3
  }&#39;</pre>

<h3>Ask Direct Question</h3>

<pre class="diagram">curl -X POST &quot;http://localhost:8000/api/qa/ask-direct&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -d &#39;{
    &quot;text&quot;: &quot;Your document text here...&quot;,
    &quot;question&quot;: &quot;What is the main topic?&quot;,
    &quot;top_k&quot;: 3
  }&#39;</pre>

<h2>Design Choices</h2>

<h3>1. **QA Model Selection**</h3>
<li><strong>Choice</strong>: RoBERTa-base fine-tuned on SQuAD 2.0</li>
<li><strong>Reasoning</strong>:</li>
<li>Excellent performance on extractive QA tasks</li>
<li>Faster inference than larger models</li>
<li>Good balance between accuracy and speed</li>
<li>Handles out-of-context questions better than BERT</li>

<h3>2. **Passage Retrieval**</h3>
<li><strong>Choice</strong>: TF-IDF similarity with sentence windowing</li>
<li><strong>Reasoning</strong>:</li>
<li>Fast retrieval without additional indexing overhead</li>
<li>Works well for diverse document types</li>
<li>Provides good baseline for relevance matching</li>
<li>Can be upgraded to semantic search in future</li>

<h3>3. **Storage Strategy**</h3>
<li><strong>Choice</strong>: In-memory document storage (v1)</li>
<li><strong>Reasoning</strong>:</li>
<li>Simple implementation for MVP</li>
<li>Fast access and processing</li>
<li>Sufficient for course assignment scope</li>
<li>Can be upgraded to database for production</li>

<h3>4. **Frontend Technology**</h3>
<li><strong>Choice</strong>: Vanilla JavaScript with Bootstrap</li>
<li><strong>Reasoning</strong>:</li>
<li>Lightweight and responsive</li>
<li>No complex build pipeline needed</li>
<li>Easy to understand and modify</li>
<li>Can run directly without server</li>

<h3>5. **Confidence Scoring**</h3>
<li><strong>Choice</strong>: Combined TF-IDF similarity + QA model confidence</li>
<li><strong>Formula</strong>: <code>0.3 × similarity<em>score + 0.7 × qa</em>score</code></li>
<li><strong>Reasoning</strong>:</li>
<li>Balances passage relevance with answer confidence</li>
<li>Gives more weight to QA model&#39;s confidence</li>
<li>Provides meaningful scoring for user feedback</li>

<h2>Performance Characteristics</h2>

<li><strong>Model Loading Time</strong>: ~5-10 seconds (first run)</li>
<li><strong>Document Processing</strong>: ~100-200ms per page</li>
<li><strong>Query Processing</strong>: ~500ms-2s (depends on document size)</li>
<li><strong>Typical Response Time</strong>: 1-3 seconds end-to-end</li>

<h2>Limitations &amp; Future Improvements</h2>

<h3>Current Limitations</h3>
</ul>
<p>1. In-memory storage (documents lost on restart)</p>
<p>2. Single-hop reasoning only</p>
<p>3. Fixed context window for QA model</p>
<p>4. No user authentication</p>
<p>5. No database persistence</p>

<h3>Planned Enhancements (Task B)</h3>
<p>1. <strong>Multi-document Querying</strong>: Database integration, pagination</p>
<p>2. <strong>Real-time Indexing</strong>: Queue-based processing, incremental updates</p>
<p>3. <strong>Complex Reasoning</strong>: Multi-hop QA, entity linking, graph-based retrieval</p>
<p>4. <strong>Vector Search</strong>: Semantic embeddings, similarity search</p>
<p>5. <strong>Production Ready</strong>: Authentication, caching, monitoring</p>

<h2>Troubleshooting</h2>

<h3>Issue: Model Download Fails</h3>
<p><strong>Solution</strong>: Ensure internet connection. Models are downloaded to <code>~/.cache/huggingface/</code></p>

<h3>Issue: CORS Errors</h3>
<p><strong>Solution</strong>: The API has CORS enabled for all origins. Check browser console for specific errors.</p>

<h3>Issue: File Upload Fails</h3>
<p><strong>Solution</strong>: Ensure file format is PDF, DOCX, or TXT and file size is reasonable (&lt;50MB)</p>

<h3>Issue: No Answers Found</h3>
<p><strong>Solution</strong>: Try different documents or rephrased questions. Check that documents contain relevant information.</p>

<h2>Testing</h2>

<h3>Manual Testing Steps</h3>

<p>1. Upload a PDF file with technical documentation</p>
<p>2. Ask a factual question about the content</p>
<p>3. Verify answer is extracted from the document</p>
<p>4. Check confidence scores are reasonable</p>
<p>5. Test with multiple documents</p>
<p>6. Try direct text input without uploading</p>

<h3>Example Test Documents</h3>

<p>Prepare sample documents covering:</p>
<ul>
<li>Technical documentation (API specs, user manuals)</li>
<li>News articles (factual extraction)</li>
<li>Academic papers (complex reasoning)</li>

<h2>Environment Variables</h2>

</ul>
<p>Create <code>.env</code> file in backend directory (optional):</p>

<pre class="diagram"># Model configuration
QA_MODEL_NAME=deepset/roberta-base-squad2
PASSAGE_WINDOW_SIZE=3
TOP_K_DEFAULT=3

# Server configuration
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=False</pre>

<h2>Dependencies</h2>

<p>See <code>backend/requirements.txt</code> for complete list. Key dependencies:</p>

<ul>
<li>fastapi==0.104.1</li>
<li>torch==2.0.0</li>
<li>transformers==4.34.0</li>
<li>PyPDF2==3.0.1</li>
<li>python-docx==0.8.11</li>
<li>scikit-learn==1.3.2</li>

<h2>License</h2>

</ul>
<p>Educational use - BITS WILP Assignment</p>

<h2>Contact</h2>

<p>For issues or questions, contact: Balakrishnan V S (2024aa05017@wilp.bits-pilani.ac.in)</p>

<hr>

<p><strong>Last Updated</strong>: December 2025</p>

        </div>
    </body>
    </html>
    